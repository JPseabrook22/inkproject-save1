<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futarchic Lobbyist</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;  /* Add some padding to the top to give space for the title */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;  /* Align items at the start of the page */
            min-height: 100vh;  /* Allow the body to grow with content */
            box-sizing: border-box; /* Ensure padding is included in the element's total width and height */
        }

        #connect-wallet {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            font-size: 16px;
        }

        #top-left-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 20%;
            height: auto;
            margin: 0px;
            border: none;
        }

        h1 {
            margin-top: 0;
            font-size: 64px;
            text-align: center;
        }

        .proposal-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 550px;
            margin: 10px 0;
            position: relative;
            border: 1px solid #000;
            padding: 15px;
            background-color: #fff;
        }

        .proposal-label {
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 12px;
            font-weight: bold;
            background-color: #fff;
            padding: 2px 5px;
        }

        .proposal-content {
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
            font-weight: bold;
        }

        .proposal-text {
            font-size: 16px;
            margin-right: 15px;
        }

        .proposal-link {
            padding: 8px 16px;
            font-size: 14px;
            text-align: center;
            color: #fff;
            background-color: #000;
            border: none;
            border-radius: 0;
            text-decoration: none;
            cursor: pointer;
        }
        .active-vault-container {
            display: flex;
            align-items: center;
            margin-top: 20px;
            font-size: 32px;
            font-weight: bold;
            width: 100%;
            max-width: 550px; /* Increase width to accommodate both sections */
            }

            .vault-info-container {
            display: flex;
            flex-direction: column; /* Stack items vertically */
            align-items: center; /* Aligns items to the start of the container */
            margin-right: 20px; /* Adds space between the vault-info-container and the balance information */
                }

        #info-btn {
            margin-left: 20px; /* Adjusts space between "Active Vault" and "What is this?" button */
            }

        .balance-container {
            display: inline-block;
            margin-left: 20px; /* Adds space between the "What is this?" button and the balance information */
            font-size: 14px; /* Adjusted for better alignment */
            text-align: left;
            align-items: center;
            }

        
        

        .balance-container h3 {
            margin: 5px 0;
        }

        .active-vault-pass {
            color: green;
        }

        .active-vault-fail {
            color: red;
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            width: 100%;
            max-width: 600px;
            position: relative;
        }

        .section {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            border: 1px solid #000;
            background-color: #fff;
            width: 45%;
            margin: 0 10px;
            border-radius: 0;
            position: relative;
        }

        .label {
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 12px;
            font-weight: bold;
            background-color: #fff;
            padding: 2px 5px;
            color: #000;
        }

        .button-container input {
            width: 100%;
            height: 40px;
            margin-bottom: 10px;
            padding: 5px;
            font-size: 16px;
            text-align: center;
            box-sizing: border-box;
            border: 1px solid #000;
            border-radius: 0;
        }

        .button-container button {
            width: 100%;
            height: 40px;
            padding: 5px;
            font-size: 16px;
            text-align: center;
            color: #fff;
            background-color: #000;
            border: none;
            border-radius: 0;
            cursor: pointer;
        }

        .button-container button:disabled {
            background-color: #555;
            cursor: not-allowed;
        }

        .information-section {
            margin-top: 40px;
            text-align: left;
            font-size: 18px;
            font-weight: bold;
            width: 35%;
        }

        .information-text {
            font-size: 16px;
            margin-top: 10px;
            text-align: left;
            width: 35%;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 20px;
            border: 1px solid #000;
            width: 80%;
            max-width: 400px;
            text-align: center;
        }

        .modal-content h2 {
            margin-top: 0;
        }

        .modal-content p {
            margin: 20px 0;
        }

        .close-btn {
            background-color: #000;
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
        }

        .info-btn {
            background-color: #000;
            color: #fff;
            padding: 5px 10px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <button id="connect-wallet">Connect Wallet</button>

    <!-- Top left corner image -->
    <img id="top-left-image" src="ink.png" alt="Ink Image">
    
    <h1>Futarchic Lobbyist</h1>

    <!-- Proposal section -->
    <div class="proposal-container">
        <span class="proposal-label">PROPOSAL</span>
        <div class="proposal-content">
            <div class="proposal-text">NO ACTIVE PROPOSAL</div>
            <a href="https://futarchy.metadao.fi/metadao/proposals/J57DcV2yQGiDpSetQHui6Piwjwsbet2ozXVPG77kTvTd" class="proposal-link">Link</a>
        </div>
    </div>

    <div class="active-vault-container">
        <div class="vault-info-container">
            <div>Active Vault: <span id="active-vault">____</span></div>
            <button id="info-btn" class="info-btn">What is this?</button>
        </div>
        <div class="balance-container">
            <h3>Pass Balance: <span id="pass-balance">Loading...</span></h3>
            <h3>Fail Balance: <span id="fail-balance">Loading...</span></h3>
            <h3>Net Balance: <span id="net-balance">Loading...</span></h3>
        </div>
    </div>

    <div class="button-container">
        <div class="section">
            <span class="label">PASS</span>
            <input id="pass-amount" type="number" min="0" step="0.01" placeholder="Amount in SOL">
            <button id="deposit-pass" disabled>Deposit to Pass</button>
        </div>
        <div class="section">
            <span class="label">FAIL</span>
            <input id="fail-amount" type="number" min="0" step="0.01" placeholder="Amount in SOL">
            <button id="deposit-fail" disabled>Deposit to Fail</button>
        </div>
    </div>

    <!-- Information section -->
    <div class="information-section">Information Section:</div>
    <div class="information-text">The Futarchic Lobbyist will trade the active vault with the goal of influencing the outcome as efficiently as possible. <br> <br>

        The goal is NOT to make money and vaults will likely lose money. <br> <br>
        
        The Active Vault is whichever vault has more SOL. <br> <br>
        
        The Active Vault will use up SOL to achieve the desired outcome if necessary until even with the competing vault. <br><br>
        
        After the proposal ends conditional tokens will be swapped back to SOL and redistributed relative to deposits. <br> <br>
        
        There is a 4% fee. The winning side has an additional 4% success fee. Fees go to the treasury which will eventually be fully DAO owned. 
        </div>
    <div class="information-text">***Disclaimer***</div>
    <div class="information-text">This is an unaudited MVP. It may not efficiently execute. There is a risk you lose all your money.</div>

    <!-- Modal Popup -->
    <div id="disclaimer-modal" class="modal">
        <div class="modal-content">
            <h2>Disclaimer</h2>
            <p>This is an unaudited MVP. It may not efficiently execute. You may lose all your money.</p>
            <button id="close-modal" class="close-btn">Close</button>
        </div>
    </div>

    <!-- What is this Modal Popup -->
    <div id="info-modal" class="modal">
        <div class="modal-content">
            <h2>What is this?</h2>
            <p>The Active Vault is the vault which is activley being traded with the goal of achieving the defined resuls. <br> <br>

                The Active Vault is decided by whichever vault has more SOL. <br> <br> 

                At the end of the proposal conditional tokens will be settled back to SOL and propostionally returned to depositers - fees. 
            
    
    
            </p>
            <button id="close-info-modal" class="close-btn">Close</button>
        </div>
    </div>

    <script>
        // Show the modal when the page loads
        window.onload = function() {
            document.getElementById('disclaimer-modal').style.display = 'flex';
        }

        // Close the modal when the "Close" button is clicked
        document.getElementById('close-modal').onclick = function() {
            document.getElementById('disclaimer-modal').style.display = 'none';
        }

        // Show the "What is this?" modal when the button is clicked
        document.getElementById('info-btn').onclick = function() {
            document.getElementById('info-modal').style.display = 'flex';
        }

        // Close the "What is this?" modal when the "Close" button is clicked
        document.getElementById('close-info-modal').onclick = function() {
            document.getElementById('info-modal').style.display = 'none';
        }
    </script>
    <script src="bundle.js" type="module"></script>
</body>
</html>
